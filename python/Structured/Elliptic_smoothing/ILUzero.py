# Autogenerated with SMOP 
from smop.core import *
# 

    
@function
def ILUzero(A=None,*args,**kwargs):
    varargin = ILUzero.varargin
    nargin = ILUzero.nargin

    ##
#        Project: Fluid - structure interaction on deformable surfaces
#         Author: Luca Di Stasio
#    Institution: ETH Zrich
#                 Institute for Building Materials
# Research group: Computational Physics for Engineering Materials
#        Version: 0.1
#  Creation date: May 19th, 2014
#    Last update: May 19th, 2014
    
    #    Description: 
#          Input: 
#         Output:
    
    ##
    
    m,n=size(A,nargout=2)
    if m != n:
        disp('Matrix A is rectangular. Only square matrices can be handled by this function.')
    else:
        for k in arange(1,n - 1).reshape(-1):
            for i in arange(k + 1,n).reshape(-1):
                if A[i,k] != 0:
                    if A[k,k] == 0:
                        disp('Error: null pivot')
                    else:
                        A[i,k]=A[i,k] / A[k,k]
                        for j in arange(k + 1,n).reshape(-1):
                            if A[i,j] != 0:
                                A[i,j]=A[i,j] - dot(A[i,k],A[k,j])
    
    invA=luinv(A)
    return A,invA